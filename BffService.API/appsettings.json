{
  "ReverseProxy": {
    "Routes": {
      "auth_route": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/bff/api/auth/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/auth" },
          { "PathPrefix": "/api/Auth" }
        ]
      },
      "connect_route": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/bff/api/connect/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/connect" },
          { "PathPrefix": "/connect" }
        ]
      },
      "internal_route": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/bff/api/internal/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/internal" },
          { "PathPrefix": "/api/internal" }
        ]
      },
      "oidc_route": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/bff/api/oidc/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/oidc" },
          { "PathPrefix": "/.well-known" }
        ]
      },
      "user_route": {
        "ClusterId": "user-cluster",
        "Match": {
          "Path": "/bff/api/user/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/user" },
          { "PathPrefix": "/api/userprofiles" }
        ]
      },
      "membership_route": {
        "ClusterId": "user-cluster",
        "Match": {
          "Path": "/bff/api/membership/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/membership" },
          { "PathPrefix": "/api/membership" }
        ]
      },
      "payment_route": {
        "ClusterId": "payment-cluster",
        "Match": {
          "Path": "/bff/api/payment/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/payment" },
          { "PathPrefix": "/api/payments" }
        ]
      },
      "webhook_route": {
        "ClusterId": "payment-cluster",
        "Match": {
          "Path": "/bff/api/webhook/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/bff/api/webhook" },
          { "PathPrefix": "/api/webhook" }
        ]
      }
    },

    "Clusters": {
      "auth-cluster": {
        "Destinations": {
          "auth": {
            "Address": "http://localhost:5001"
          }
        }
      },
      "user-cluster": {
        "Destinations": {
          "user": {
            "Address": "http://localhost:5005"
          }
        }
      },
      "payment-cluster": {
        "Destinations": {
          "payment": {
            "Address": "http://localhost:5010"
          }
        }
      }
    }
  }
}
